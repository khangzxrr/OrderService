2023-03-15 21:42:16.305 +07:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-03-15 21:42:16.355 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-03-15 21:42:16.357 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-03-15 21:42:16.358 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-03-15 21:42:16.375 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-03-15 21:42:16.389 +07:00 [INF] Applying migration '20230315144157_AddShipCostProductCostToOrderDetail'.
2023-03-15 21:42:16.601 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [OrderDetail] ADD [productCost] real NOT NULL DEFAULT CAST(0 AS real);
2023-03-15 21:42:16.603 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [OrderDetail] ADD [shipCost] real NOT NULL DEFAULT CAST(0 AS real);
2023-03-15 21:42:16.655 +07:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_Chat_employeeId] ON [Chat];
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Chat]') AND [c].[name] = N'employeeId');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Chat] DROP CONSTRAINT [' + @var0 + '];');
UPDATE [Chat] SET [employeeId] = 0 WHERE [employeeId] IS NULL;
ALTER TABLE [Chat] ALTER COLUMN [employeeId] int NOT NULL;
ALTER TABLE [Chat] ADD DEFAULT 0 FOR [employeeId];
CREATE INDEX [IX_Chat_employeeId] ON [Chat] ([employeeId]);
2023-03-15 21:42:16.681 +07:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_Chat_customerId] ON [Chat];
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Chat]') AND [c].[name] = N'customerId');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [Chat] DROP CONSTRAINT [' + @var1 + '];');
UPDATE [Chat] SET [customerId] = 0 WHERE [customerId] IS NULL;
ALTER TABLE [Chat] ALTER COLUMN [customerId] int NOT NULL;
ALTER TABLE [Chat] ADD DEFAULT 0 FOR [customerId];
CREATE INDEX [IX_Chat_customerId] ON [Chat] ([customerId]);
2023-03-15 21:42:16.682 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230315144157_AddShipCostProductCostToOrderDetail', N'7.0.1');
2023-03-15 22:32:42.162 +07:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-03-15 22:32:42.247 +07:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2023-03-15 22:32:42.499 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Roles] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-03-15 22:32:42.513 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [CurrencyExchanges] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-03-15 22:32:42.858 +07:00 [INF] Now listening on: http://localhost:57679
2023-03-15 22:32:42.861 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-03-15 22:32:42.863 +07:00 [INF] Hosting environment: Development
2023-03-15 22:32:42.866 +07:00 [INF] Content root path: D:\OrderService\src\OrderService.Web
2023-03-15 22:32:43.860 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/swagger/index.html - -
2023-03-15 22:32:43.947 +07:00 [WRN] Failed to determine the https port for redirect.
2023-03-15 22:32:44.140 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/swagger/index.html - - - 200 - text/html;charset=utf-8 283.2517ms
2023-03-15 22:32:44.220 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/_vs/browserLink - -
2023-03-15 22:32:44.220 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/_framework/aspnetcore-browser-refresh.js - -
2023-03-15 22:32:44.240 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/_framework/aspnetcore-browser-refresh.js - - - 200 12002 application/javascript;+charset=utf-8 20.1086ms
2023-03-15 22:32:44.261 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 41.4648ms
2023-03-15 22:32:44.359 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/swagger/favicon-32x32.png - -
2023-03-15 22:32:44.371 +07:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2023-03-15 22:32:44.374 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/swagger/favicon-32x32.png - - - 0 628 image/png 14.3977ms
2023-03-15 22:32:44.499 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/swagger/v1/swagger.json - -
2023-03-15 22:32:44.774 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 275.8291ms
2023-03-15 22:32:53.638 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/categories - -
2023-03-15 22:32:53.644 +07:00 [INF] Executing endpoint 'OrderService.Web.Endpoints.ProductCatalogEndpoints.Get.HandleAsync (OrderService.Web)'
2023-03-15 22:32:53.666 +07:00 [INF] Route matched with {action = "Handle", controller = "Get"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[OrderService.Web.Endpoints.ProductCatalogEndpoints.GetProductCategoriesResponse]] HandleAsync(System.Threading.CancellationToken) on controller OrderService.Web.Endpoints.ProductCatalogEndpoints.Get (OrderService.Web).
2023-03-15 22:32:53.942 +07:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[productCategoryName]
FROM [ProductCategory] AS [p]
2023-03-15 22:32:54.083 +07:00 [INF] Executing OkObjectResult, writing value of type 'OrderService.Web.Endpoints.ProductCatalogEndpoints.GetProductCategoriesResponse'.
2023-03-15 22:32:54.107 +07:00 [INF] Executed action OrderService.Web.Endpoints.ProductCatalogEndpoints.Get.HandleAsync (OrderService.Web) in 433.2812ms
2023-03-15 22:32:54.111 +07:00 [INF] Executed endpoint 'OrderService.Web.Endpoints.ProductCatalogEndpoints.Get.HandleAsync (OrderService.Web)'
2023-03-15 22:32:54.118 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/categories - - - 200 - application/json;+charset=utf-8 480.5338ms
